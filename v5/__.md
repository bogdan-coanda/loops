## v5

`choose` **α-loop**
`extend` **α-loop**
`for each` _available_ **β-loop**:
	`extend` **β-loop**
	`check` for _unreachable_ **chains** ###  with len(.avloops) = 0 // with avloops made unavailable by this extension
	`collapse` **β-loop**
	`if` any _unreachable_ **chains**:  
		`set` **β-loop** `unavailable`
		
`repeat`

__________________________________________________________________________


## `extend`(**loop**)

**affected_chains** = **loop.nodes.cycles.chains**

**new_chain** = `new` Chain()

`for each` **old_chain** `in` **affected_chains**:
	`self`.chains `-=` **old_chain**
	`for each` **cycle** `in` **old_chain.cycles**:
		**cycle.chain** = **new_chain**
		**new_chain.cycles** `+=`**cycle**
`self`.chains `+=` **new_chain**

**affected_loops** = []

`for each` **old_chain** in **affected_chains**:
	`for each` _available_ **avloop** in **old_chain.avloops**:
		`if` `not` _distinct_ (**avloop.nodes.cycles.chains**):
			`set` **avloop** `unavailable`
			**affected_loops** `+=` **avloop**
		`else`:
			**new_chain.avloops** `+=` **avloop**


__________________________________________________________________________


## `set` **loop** `unavailable`

**loop**. _availabled_ = `False`
`for` **cycle** `in` **loop.nodes.cycles**
	**cycle.chain.avloops** `-=` **loop**

__________________________________________________________________________

## `extend`(**loop**)  ⇒  loop.extension_result = (new_chain, affected_loops, affected_chains, touched_chains)

`extend`(**α-loop**)
`for each` _available_ **loop** `in` `self.loops`:
	`if` **loop.extension_result.touched_chains** ⋂ **α-loop.extension_result.touched_chains**:
		`simulate extend`(**loop**)
		`if` _any_ _unreachable_ **chain**:
			…
			

__________________________________________________________________________
			
## `cleanup`

for each available loop:
	
	extend(loop)
	
	for each touched chain:
		
		if chain.avloops is 0:
			unreachable = True
			
		else if chain.avloops is 1:
			singles += chain.avloop
