from diagram import *
from uicanvas import *
from common import *
from itertools import chain
from time import time
from collections import defaultdict


if __name__ == "__main__":

	# ============================================================================================================================================================================ #
		
	diagram = Diagram(6, 1)
	
	''' 
	# «sols:0…3» [a]
	[sol: 0][*     16*][   0m1s.382][lvl:6~1]  §⁰.0⁴.1³.0¹.0².1².1² ~ §⁰.0⁴
	tuples: 01005 01013 01023 01031 01132 01202
	loops: 00002
	loops: 00142
	loops: 00202
	loops: 00342

	# «sols:4…7» [b]
	[sol: 4][*     57*][   0m1s.467][lvl:6~1]  §⁰.1⁴.2³.0³.0².1².1² ~ §⁰.0⁴
	tuples: 01004 01010 01105 01202 01211 01305
	loops: 00043
	loops: 00101
	loops: 00243
	loops: 00301

	# «sols:8…11» [c]
	[sol: 8][*    100*][   0m1s.553][lvl:6~1]  §⁰.3⁴.1³.1².0².1².0² ~ §⁰.0⁴
	tuples: 01001 01013 01023 01031 01132 01205
	loops: 00042
	loops: 00102
	loops: 00242
	loops: 00302

	# «sols:12…15» [d]
	[sol:12][*    112*][   0m1s.585][lvl:6~1]  §⁰.3⁴.2³.0³.0².1².0² ~ §⁰.0⁴
	tuples: 01001 01010 01022 01105 01211 01305
	loops: 00001
	loops: 00143
	loops: 00201
	loops: 00343
	'''
	
	# «sols:0…3» [a]
	# taddrs = [
	# 	'12010', '12020', '12030', # 12 box
	# 	'01005', # 01 blue
	# 	'01104', '01304', # 01 green
	# ]

	# «sols:4…7» [b]	
	# taddrs = [ #, ,
	# 	'12012', '12023', '12030', # 12 box
	# 	'01105', '01305', # 01 blue
	# 	'01004' # 01 green
	# ]
			
	# «sols:8…11» [c]
	# taddrs = [ #'', ''		
	# 	'12000', '12010', '12020' # 12 box
	# 	'01205', # 01 blue
	# 	'01104', '01304' # 01 green
	# ]

	# «sols:12…15» [d]
	# taddrs = [ #'', '', '', '', ''		
	# 	'12000', '12012', '12023', # 12 box
	# 	'01105', '01305', # 01 blue
	# 	'01204' # 01 green
	# ]

	# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- #	
	
	taddrs = []
	
	# [ac]
	taddrs += [
		'12010', '12020', # 12 box
		# '01104', '01304', # 01 green	
	]

	# [bd]	
	taddrs += [
		# '12012', '12023', # 12 box
		# '01105', '01305', # 01 blue
	]

						
	# [ab]
	taddrs += [
		# '12030', # 12 box
	]

	# [cd]
	taddrs += [
		# '12000', # 12 box
	]
		
		
	# «sols:0…3» [a]
	taddrs += [
		# '01005', # 01 blue
	]

	# «sols:4…7» [b]	
	taddrs += [
		# '01004' # 01 green
	]

	# «sols:8…11» [c]
	taddrs += [		
		# '01205', # 01 blue
	]
		
	# «sols:12…15» [d]
	taddrs += [ #'', '', '', '', ''		
		# '01204' # 01 green
	]

	# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- #	

	# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- #	
							
	laddrs = [
		# «sols:12…15» [d]		
		# '00001'
		# '00343'				
		# '00201'
		# '00143'
		
		# «sols:8…11» [c]
		# '00042'
		# '00302'
		# '00102'
		# '00242'
		
		# «sols:0…3» [a]
		# '00002'
		# '00142'
		# '00202'
		# '00342'

		# «sols:4…7» [b]
		# '00043'
		# '00101'
		# '00243'
		# '00301'
															
	]
		
	sol_tuples = [diagram.nodeByAddress[addr].loop.tuple for addr in taddrs]
	sol_loops = [diagram.nodeByAddress[addr].loop for addr in laddrs]
	
	for i,t in enumerate(sol_tuples):
		for j,l in enumerate(t):
			assert diagram.extendLoop(l)
	for l in sol_loops:
		assert diagram.extendLoop(l)		
		
	# ============================================================================================================================================================================ #	

	#diagram.point()
	show(diagram)
